# 表格操作使用指南

## 📍 如何找到操作按钮？

### 步骤 1: 创建表格
1. 在编辑器中输入 `/` 
2. 输入 `table` 或 `表格`
3. 按回车或点击"表格"选项
4. 会自动创建一个 3x3 的表格

### 步骤 2: 查看操作按钮
**操作按钮会在你点击表格单元格时出现！**

位置说明：
- 📍 操作按钮位于**当前选中单元格的右上角**
- 🔘 是一个小的灰色按钮，带有向下箭头图标
- 🎯 只有当光标在表格单元格内时才会显示

```
┌─────────────────────────┐
│  单元格内容         [▼] │  ← 操作按钮在这里
└─────────────────────────┘
```

### 步骤 3: 打开操作菜单
1. 点击单元格，使其获得焦点
2. 你会看到单元格右上角出现一个小按钮（灰色，带向下箭头）
3. 点击这个按钮
4. 弹出操作菜单，包含：
   - ➕ 在上方插入行
   - ➕ 在下方插入行
   - ➕ 在左侧插入列
   - ➕ 在右侧插入列
   - ➖ 删除行
   - ➖ 删除列
   - 🗑️ 删除表格

## 🔍 如果看不到按钮？

### 检查清单：

1. **确认编辑器不是只读模式**
   ```vue
   <!-- 确保 readonly 为 false 或未设置 -->
   <Editor v-model="content" />
   ```

2. **确保点击了单元格**
   - 光标必须在单元格内（可以输入文字的状态）
   - 单元格周围可能会有边框高亮

3. **检查浏览器控制台**
   - 按 F12 打开开发者工具
   - 查看是否有 JavaScript 错误

4. **尝试刷新页面**
   - Ctrl+F5 强制刷新

## 🎨 按钮样式说明

操作按钮的特征：
- 宽高：20px × 20px
- 背景色：浅灰色 (#f0f0f0)
- 图标：向下的箭头
- 悬停时：背景变深 (#e0e0e0)

## 💡 快速测试

运行以下命令启动开发服务器：

```bash
cd D:\code\lexical-editor
npm run dev
```

然后访问 `http://localhost:5173`（或显示的端口）

测试步骤：
1. 输入 `/表格` 创建表格
2. 点击第一个单元格
3. 观察单元格右上角是否出现操作按钮
4. 如果没有，打开浏览器控制台查看错误

## 🐛 调试模式

如果还是看不到按钮，可以在浏览器控制台执行：

```javascript
// 检查表格操作菜单状态
console.log('Table Action Menu State:', document.querySelector('.table-action-menu-container'))
```

## 📸 期望的视觉效果

```
┌───────────────────────────────────┐
│                              [▼]  │ ← 点击这个按钮
│  Header 1                         │
│                                   │
└───────────────────────────────────┘
```

点击 [▼] 后：

```
┌───────────────────────────────────┐
│                              [▼]  │
│  Header 1              ┌─────────────────┐
│                        │ 在上方插入行     │
└────────────────────────│ 在下方插入行     │
                         ├─────────────────┤
                         │ 在左侧插入列     │
                         │ 在右侧插入列     │
                         ├─────────────────┤
                         │ 删除行          │
                         │ 删除列          │
                         ├─────────────────┤
                         │ 删除表格        │
                         └─────────────────┘
```

## ⚠️ 常见问题

### Q: 按钮一闪而过？
A: 可能是点击外部导致菜单关闭，尝试先点击单元格，再点击按钮

### Q: 完全看不到按钮？
A: 检查：
1. CSS 是否正确加载
2. z-index 是否被其他元素遮挡
3. 编辑器是否为只读模式

### Q: 按钮位置不对？
A: 这可能是定位问题，按钮应该相对于单元格定位

## 🔧 手动调试

如果需要调试，可以临时修改按钮样式使其更明显：

在 `src/components/TableActionMenu.vue` 中修改：

```css
.table-action-button {
  width: 30px;     /* 改大一点 */
  height: 30px;    /* 改大一点 */
  background: #ff0000; /* 改成红色，方便查看 */
  /* ... 其他样式 */
}
```

保存后刷新页面，看是否能看到红色按钮。

