# 🎯 表格操作完整指南

## 问题：如何增加/减少行列？

### 答案：通过单元格右上角的操作按钮！

---

## 📋 详细步骤

### 1️⃣ 创建表格

在编辑器中输入：
```
/表格
```
或者
```
/table
```

然后按回车，会自动创建一个 3×3 的表格。

---

### 2️⃣ 找到操作按钮

**重点：操作按钮位于单元格的右上角！**

#### 视觉示意：

```
┏━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Header 1          [▼] ┃  ← 看这里！这个 [▼] 就是操作按钮
┗━━━━━━━━━━━━━━━━━━━━━━━━┛
┏━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Header 2          [▼] ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━┛
┏━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Header 3          [▼] ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━┛
```

#### 按钮特征：
- 📦 大小：24×24 像素
- 🎨 白色背景，带边框
- 🔽 向下箭头图标
- 📍 位置：单元格右上角（距离右边 5px）
- ✨ 鼠标悬停会有阴影效果

---

### 3️⃣ 使用操作菜单

#### 步骤：
1. **点击任意表格单元格**（让光标在单元格内）
2. **观察单元格右上角**，会出现一个小按钮 `[▼]`
3. **点击这个按钮**，弹出菜单

#### 菜单选项：

```
┌─────────────────────┐
│ ➕ 在上方插入行      │
│ ➕ 在下方插入行      │
├─────────────────────┤
│ ➕ 在左侧插入列      │
│ ➕ 在右侧插入列      │
├─────────────────────┤
│ ➖ 删除行           │
│ ➖ 删除列           │
├─────────────────────┤
│ 🗑️ 删除表格         │
└─────────────────────┘
```

---

## 💡 实际操作示例

### 示例 1：增加一行

1. 点击第 2 行的任意单元格
2. 点击右上角的 `[▼]` 按钮
3. 选择"在下方插入行"
4. ✅ 新行已添加！

**操作前：**
```
| 姓名 | 年龄 | 职业 |
| 张三 | 28   | 工程师 |  ← 点击这一行
| 李四 | 32   | 设计师 |
```

**操作后：**
```
| 姓名 | 年龄 | 职业 |
| 张三 | 28   | 工程师 |
| [新行] | [新行] | [新行] |  ← 新插入的行
| 李四 | 32   | 设计师 |
```

---

### 示例 2：增加一列

1. 点击第 2 列的任意单元格
2. 点击右上角的 `[▼]` 按钮
3. 选择"在右侧插入列"
4. ✅ 新列已添加！

**操作前：**
```
| 姓名 | 年龄 |
|      | ↑ 点击这一列
| 张三 | 28   |
| 李四 | 32   |
```

**操作后：**
```
| 姓名 | 年龄 | [新列] |
|      |      | ← 新插入的列
| 张三 | 28   |        |
| 李四 | 32   |        |
```

---

### 示例 3：删除行

1. 点击要删除的行的任意单元格
2. 点击右上角的 `[▼]` 按钮
3. 选择"删除行"
4. ✅ 该行已删除！

---

### 示例 4：删除列

1. 点击要删除的列的任意单元格
2. 点击右上角的 `[▼]` 按钮
3. 选择"删除列"
4. ✅ 该列已删除！

---

## 🔍 如果看不到按钮？

### 检查项 1：编辑器模式
确保编辑器**不是只读模式**：

```vue
<!-- ✅ 正确 -->
<Editor v-model="content" />

<!-- ❌ 错误（只读模式不显示按钮） -->
<Editor v-model="content" :readonly="true" />
```

---

### 检查项 2：点击单元格
**必须点击单元格，让光标在单元格内！**

```
点击这里 ↓
┏━━━━━━━━━━━━━━━━━━━━━┓
┃ |光标在这里    [▼] ┃  ← 按钮会出现
┗━━━━━━━━━━━━━━━━━━━━━┛
```

---

### 检查项 3：查看浏览器控制台
按 `F12` 打开开发者工具，检查是否有错误。

---

### 检查项 4：CSS 是否加载
在浏览器控制台输入：
```javascript
document.querySelector('.table-action-menu-container')
```

如果返回 `null`，说明组件没有渲染。

---

## 🎬 快速演示

### 完整操作流程：

1. **创建表格**
   ```
   输入 /表格 → 按回车
   ```

2. **点击第一个单元格**
   ```
   [点击] → 单元格被选中（光标闪烁）
   ```

3. **观察右上角**
   ```
   看到 [▼] 按钮出现
   ```

4. **点击按钮**
   ```
   [点击 ▼] → 菜单弹出
   ```

5. **选择操作**
   ```
   例如：点击"在下方插入行"
   ```

6. **完成！**
   ```
   新行已添加 ✅
   ```

---

## 🐛 调试提示

如果按钮还是不可见，尝试以下临时修改来测试：

### 临时修改：让按钮更明显

编辑 `src/components/TableActionMenu.vue`，找到 `.table-action-button` 样式，临时修改：

```css
.table-action-button {
  width: 40px;          /* 改大 */
  height: 40px;         /* 改大 */
  background: #ff0000;  /* 改成红色 */
  /* ... */
}
```

保存后刷新浏览器，如果看到红色大按钮，说明功能正常，只是原来样式不够明显。

---

## 📞 需要帮助？

如果按照以上步骤还是看不到按钮，请检查：

1. ✅ 开发服务器是否正在运行（`npm run dev`）
2. ✅ 浏览器是否已刷新（Ctrl+F5）
3. ✅ 控制台是否有错误信息
4. ✅ `TableActionMenu.vue` 组件是否存在
5. ✅ `Editor.vue` 是否正确导入和使用了 `TableActionMenu`

---

## ✨ 提示

- 按钮会在**鼠标悬停**时变得更明显（有阴影效果）
- 菜单会在**点击外部**时自动关闭
- **删除表格**操作会有确认对话框
- 所有操作都是**实时生效**的

---

**祝使用愉快！🎉**

